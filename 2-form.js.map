{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["\"use strict\"\n\n\nlet formData = {\n    email: \"\",\n    message: \"\",\n}\nconst localKay = \"feedback-form-state\"\n\nconst form = document.querySelector(\".feedback-form\")\n\nconst input = document.querySelector('input[name=\"email\"]');\nconst texArea = document.querySelector('textarea[name=\"message\"]');\n\nform.addEventListener(\"submit\", toSubmit);\nform.addEventListener(\"input\", onInput);\nisText()\n\nfunction isText() {\n  const inputMessage = localStorage.getItem(localKay)\n  const inputMessageArr = JSON.parse(inputMessage)\n  formData = inputMessageArr || {email: \"\", message: \"\"}\n  const {email,message} = formData\n  if (email) {\n        input.value = email\n      }\n    if (message) {\n        texArea.value = message\n  }\n \n}\n\nfunction onInput(evt) {\n  \n  const { name, value } = evt.target\n  if (name === \"email\" || name === \"message\") {\n\n    formData[name] = value.trim()\n\n    localStorage.setItem(localKay, JSON.stringify(formData))\n  }\n \n  }\n  \n\n\nfunction toSubmit(evt) {\nevt.preventDefault();\n \n  const errorMsg = document.querySelector('.errorMsg');\n  if (errorMsg) {\n    errorMsg.remove();\n  }\n\n  if (!formData.email ) {\n    const errorMessage = `<p class=\"errorMsg\">Fill please all fields !!!</p>`;\n    form.insertAdjacentHTML(\"beforeend\", errorMessage);\n       input.style.border = '2px solid red';\n\n    \n  } else if(!formData.message) {\n    const errorMessage = `<p class=\"errorMsg\">Fill please all fields !!!</p>`;\n    form.insertAdjacentHTML(\"beforeend\", errorMessage);\n       texArea.style.border = '2px solid red';\n\n    \n  }else {\n    \n    console.log(formData);\n       localStorage.removeItem('feedback-form-state');\n       formData.email = \"\";\n    formData.message = \"\";\n     input.style.border = '2px solid black';\n    texArea.style.border = '2px solid black';\n    this.reset();\n  }\n  \n}\n\n\n\n\n\n"],"names":["formData","localKay","form","input","texArea","toSubmit","onInput","isText","inputMessage","email","message","evt","name","value","errorMsg"],"mappings":"wFAGA,IAAIA,EAAW,CACX,MAAO,GACP,QAAS,EACb,EACA,MAAMC,EAAW,sBAEXC,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAQ,SAAS,cAAc,qBAAqB,EACpDC,EAAU,SAAS,cAAc,0BAA0B,EAEjEF,EAAK,iBAAiB,SAAUG,CAAQ,EACxCH,EAAK,iBAAiB,QAASI,CAAO,EACtCC,EAAQ,EAER,SAASA,GAAS,CAChB,MAAMC,EAAe,aAAa,QAAQP,CAAQ,EAElDD,EADwB,KAAK,MAAMQ,CAAY,GACjB,CAAC,MAAO,GAAI,QAAS,EAAE,EACrD,KAAM,CAAC,MAAAC,EAAM,QAAAC,CAAO,EAAIV,EACpBS,IACEN,EAAM,MAAQM,GAEdC,IACAN,EAAQ,MAAQM,EAGxB,CAEA,SAASJ,EAAQK,EAAK,CAEpB,KAAM,CAAE,KAAAC,EAAM,MAAAC,CAAO,EAAGF,EAAI,QACxBC,IAAS,SAAWA,IAAS,aAE/BZ,EAASY,CAAI,EAAIC,EAAM,KAAM,EAE7B,aAAa,QAAQZ,EAAU,KAAK,UAAUD,CAAQ,CAAC,EAGxD,CAIH,SAASK,EAASM,EAAK,CACvBA,EAAI,eAAc,EAEhB,MAAMG,EAAW,SAAS,cAAc,WAAW,EAC/CA,GACFA,EAAS,OAAM,EAGZd,EAAS,MAMHA,EAAS,SAQlB,QAAQ,IAAIA,CAAQ,EACjB,aAAa,WAAW,qBAAqB,EAC7CA,EAAS,MAAQ,GACpBA,EAAS,QAAU,GAClBG,EAAM,MAAM,OAAS,kBACtBC,EAAQ,MAAM,OAAS,kBACvB,KAAK,MAAK,IAZVF,EAAK,mBAAmB,YADH,oDAC4B,EAC9CE,EAAQ,MAAM,OAAS,kBAP1BF,EAAK,mBAAmB,YADH,oDAC4B,EAC9CC,EAAM,MAAM,OAAS,gBAoB5B"}